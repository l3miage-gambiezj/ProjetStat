---
title: "Pollution atmosphérique au dioxyde d'azote (no2) et à l'ozone (o3) ? dans le bassin grenoblois"
author: "FRANCES Tom, GAMBIEZ Jérôme, GOURDON Jérémie, MAHI Riad"
date: "Mars 2022"
output:
  pdf_document: default
  html_document:
    df_print: paged
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```
# Le contexte
The aim of the activity is to develop a methodology to answer a specific question on a given dataset. 

The dataset is the set of Firstname given in France on a large period of time. 
[https://www.insee.fr/fr/statistiques/2540004](https://www.insee.fr/fr/statistiques/fichier/2540004/dpt2020_txt.zip), we choose this dataset because it is sufficiently large, you can't do the analysis by hand, the structure is simple


You need to use the _tidyverse_ for this analysis. Unzip the file _dpt2020_txt.zip_ (to get the **dpt2020.csv**). Read in R with this code. Note that you might need to install the `readr` package with the appropriate command.

## Construction de la dataframe depuis les fichiers de données

Nous allons dans un premier temps récuperer les données depuis nos fichiers csv. 

```{r}
library(tidyverse)

dataCrolles <- read_delim("Data/15048_Crolles.csv",delim=",", col_types = "ccTcdc")
dataCrollesF = dataCrolles %>%
  filter(parameter == "no2");
dataCrollesF

dataVoiron <- read_delim("Data/15018_Voiron.csv",delim=",", col_types = "ccTcdc")
dataVoironF = dataVoiron %>%
  filter(parameter == "no2")
dataVoironF

dataRondeau <- read_delim("Data/15039_Rondeau.csv",delim=",", col_types = "ccTcdc")
dataRondeauF = dataRondeau %>%
  filter(parameter == "no2")
dataRondeauF

dataChampSurDrac <- read_delim("Data/15013_Champ_sur_Drac.csv",delim=",", col_types = "ccTcdc")
dataChampSurDracF = dataChampSurDrac %>%
  filter(parameter == "no2")
dataChampSurDracF

dataGrenoble <- read_delim("Data/15046_Grenoble.csv",delim=",", col_types = "ccTcdc")
dataGrenobleF = dataGrenoble %>%
  filter(parameter == "no2")
dataGrenobleF

```
Nombre d'observations pour chaque jeu de données

```{r}
nb_observations_Crolles = dataCrollesF %>% count();
nb_observations_Crolles

nb_observations_Voiron = dataVoironF %>% count();
nb_observations_Voiron

nb_observations_Rondeau = dataRondeauF %>% count();
nb_observations_Rondeau

nb_observations_ChampSurDrac = dataChampSurDracF %>% count();
nb_observations_ChampSurDrac

nb_observations_Grenoble = dataGrenobleF %>% count();
nb_observations_Grenoble

```

Intervalle des dates

```{r}
rangeDateCrolles = range(dataCrollesF$local)
rangeDateCrolles

rangeDateVoiron = range(dataVoironF$local)
rangeDateVoiron

rangeDateRondeau = range(dataRondeauF$local)
rangeDateRondeau

rangeDateChampSurDrac = range(dataChampSurDracF$local)
rangeDateChampSurDrac

rangeDateGrenoble = range(dataGrenobleF$local)
rangeDateGrenoble

```

Moyenne des quantitées de no2 par jour


```{r}
FirstNames %>% 
  filter(preusuel == "TOM") %>% 
  group_by(preusuel, annais) %>% 
  summarise(total = sum(nombre)) %>%
  ggplot(aes(x=annais, y=total)) + geom_point() + ylim(0,NA) + theme_bw();

```
```{r}
nb_NA_observations = FirstNames %>% filter(is.na(annais) | is.na(dpt)) %>% count();
nb_NA_observations
nb_observations = FirstNames %>% count();
nb_observations
nb_NA_observations * 100 / nb_observations;
```
Number of _PRENOMS_RARES
```{r}
n_rare = FirstNames %>%
  filter(preusuel == "_PRENOMS_RARES") %>%
  group_by(sexe) %>%
  summarise(n_rare = n())
n_rare
```



GGPLOT fonctionnement
```{r}
library(ggplot2)
ggplot()
pressure
ggplot(data = pressure) + 
  aes(x=temperature) + 
  aes(y=pressure) + 
  geom_point() + 
  geom_line() +
  labs(x="Temperature (deg C)") +
  labs(y = "Pression") +
  labs(title = "Titre")
```

